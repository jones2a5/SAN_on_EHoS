clear all

%File reading.
directory = 'NO_FORGET_ENSEMBLE_FINAL';
memtime_sums = xlsread(strcat(directory,'/memtime_sums.xlsx'));
hitrate_sorted = xlsread(strcat(directory,'/hitrate_sorted.xlsx'));
memory_frequency = xlsread(strcat(directory,'/memory_frequency.xlsx'));
sequence = 1:700;


%Hitrate Heatmap
figure(1)
figure1 = figure('WindowState','maximized');

% Create axes
axes1 = axes('Parent',figure1,...
    'Position',[0.126398787202381 0.11 0.474642879464286 0.815]);
hold(axes1,'on');

% Create image
image([1 700],[70;1],hitrate_sorted,'Parent',axes1,'CDataMapping','scaled');

% Create ylabel
ylabel({'U-Factor Average'},'FontWeight','bold');

% Create xlabel
xlabel({'Time Step'},'FontWeight','bold');

% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes1,[0.5 700.5]);
% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes1,[0.5 70.5]);
box(axes1,'on');
axis(axes1,'ij');

% Set the remaining axes properties
set(axes1,'CLim',[0.03143 1],'Colormap',...
    [0 0 0;0.0263305325061083 0.0106442579999566 0.0442577041685581;0.0526610650122166 0.0212885159999132 0.0885154083371162;0.07899159938097 0.0319327749311924 0.132773116230965;0.105322130024433 0.0425770319998264 0.177030816674232;0.131652668118477 0.0532212890684605 0.2212885171175;0.15798319876194 0.0638655498623848 0.265546232461929;0.184313729405403 0.0745098069310188 0.309803932905197;0.193627461791039 0.0698529407382011 0.352941185235977;0.202941179275513 0.0651960819959641 0.396078437566757;0.212254911661148 0.0605392195284367 0.439215689897537;0.221568629145622 0.0558823570609093 0.482352942228317;0.230882361531258 0.0512254908680916 0.52549022436142;0.240196079015732 0.0465686284005642 0.5686274766922;0.249509811401367 0.0419117659330368 0.61176472902298;0.258823543787003 0.0372549034655094 0.65490198135376;0.268137276172638 0.032598040997982 0.69803923368454;0.277450978755951 0.0279411785304546 0.74117648601532;0.286764711141586 0.0232843142002821 0.7843137383461;0.296078443527222 0.0186274517327547 0.82745099067688;0.305392175912857 0.0139705892652273 0.87058824300766;0.31470587849617 0.00931372586637735 0.91372549533844;0.324019610881805 0.00465686293318868 0.95686274766922;0.333333343267441 0 1;0.344494044780731 0.0167410708963871 0.983258962631226;0.355654776096344 0.0334821417927742 0.966517865657806;0.366815507411957 0.0502232126891613 0.949776768684387;0.377976208925247 0.0669642835855484 0.933035731315613;0.436011910438538 0.154017850756645 0.845982134342194;0.49404764175415 0.241071432828903 0.758928596973419;0.552083313465118 0.328125 0.671875;0.610119044780731 0.415178567171097 0.584821462631226;0.668154776096344 0.502232134342194 0.497767865657806;0.726190447807312 0.589285731315613 0.41071429848671;0.784226179122925 0.676339268684387 0.323660731315613;0.842261910438538 0.763392865657806 0.236607149243355;0.900297582149506 0.850446403026581 0.149553567171097;0.958333313465118 0.9375 0.0625;0.965277791023254 0.947916686534882 0.0520833320915699;0.972222208976746 0.958333313465118 0.0416666679084301;0.979166626930237 0.96875 0.03125;0.986111104488373 0.979166686534882 0.020833333954215;0.993055582046509 0.989583313465118 0.0104166669771075;1 1 0;0.916666686534882 1 0;0.833333313465118 1 0;0.75 1 0;0.666666686534882 1 0;0.583333313465118 1 0;0.5 1 0;0.416666656732559 1 0;0.333333343267441 1 0;0.25 1 0;0.16666667163372 1 0;0.0833333358168602 1 0;0 1 0;0 0.937745094299316 0.0127450982108712;0 0.875490188598633 0.0254901964217424;0 0.813235282897949 0.0382352955639362;0 0.750980377197266 0.0509803928434849;0 0.688725531101227 0.0637254938483238;0 0.626470625400543 0.0764705911278725;0 0.56421571969986 0.0892156884074211;0 0.501960813999176 0.10196078568697],...
    'FontSize',12,'FontWeight','bold','Layer','top','YTick',...
    [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70],...
    'YTickLabel',...
    {'0.2478','0.237','0.2353','0.2345','0.23','0.2163','0.2145','0.2138','0.2093','0.2038','0.203','0.2013','0.1985','0.1968','0.196','0.1903','0.1885','0.1878','0.1833','0.1778','0.177','0.1753','0.1725','0.1708','0.17','0.157','0.1563','0.1545','0.1518','0.15','0.1493','0.1438','0.1408','0.1393','0.139','0.1385','0.1383','0.1368','0.1338','0.1283','0.1275','0.1258','0.123','0.1213','0.1205','0.1075','0.1068','0.105','0.1023','0.1005','0.0998','0.0943','0.0898','0.089','0.0873','0.0815','0.0808','0.079','0.0763','0.0745','0.0738','0.0683','0.0638','0.063','0.0613','0.0475','0.043','0.0423','0.0405','0.0298'});
% Create colorbar
colorbar(axes1);

% Create textbox
annotation(figure1,'textbox',...
    [0.571354166666667 0.923660974384731 0.0625 0.0376695128076343],...
    'String',{'Hit Rate'},...
    'LineStyle','none',...
    'FontWeight','bold',...
    'FontSize',24,...
    'FitBoxToText','off');
xlim([0.5; 700.5;]);
ylim([0.5; 70.5;]);
saveas(gcf,strcat(directory,'/hitrate.tif'));
saveas(gcf,strcat(directory,'/hitrate.fig'));

%Unique Memories Maintained Ratio Line
figure(2)
figure1 = figure('WindowState','maximized');

% Create axes
axes1 = axes('Parent',figure1,'Position',[0.13 0.11 0.47078125 0.815]);
hold(axes1,'on');

% Create plot
plot(sequence,memtime_sums./sequence,'LineWidth',6,'Color',[1 0 0]);

% Create ylabel
ylabel({'Unique Memories Recalled','Total Memories Shown to Network'},...
    'HorizontalAlignment','center',...
    'FontWeight','bold',...
    'FontSize',28.6);

% Create xlabel
xlabel({'Time Step'},'HorizontalAlignment','center','FontWeight','bold');

box(axes1,'on');
% Set the remaining axes properties
set(axes1,'FontSize',26,'FontWeight','bold','LineWidth',4,'XGrid','on',...
    'YGrid','on');
% Create line
annotation(figure1,'line',[0.0804375000000002 0.0804375000000001],...
    [0.751636865896533 0.282521346057258],'LineWidth',4);
saveas(gcf,strcat(directory,'/unique.tif'));
saveas(gcf,strcat(directory,'/unique.fig'));

figure(3)
% Create figure
mymap = [0.041666666666667 0 0;0.083333333333333 0 0;0.125 0 0;0.166666666666667 0 0;0.208333333333333 0 0;0.25 0 0;0.291666666666667 0 0;0.333333333333333 0 0;0.375 0 0;0.416666666666667 0 0;0.458333333333333 0 0;0.5 0 0;0.541666666666667 0 0;0.583333333333333 0 0;0.625 0 0;0.666666666666667 0 0;0.708333333333333 0 0;0.75 0 0;0.791666666666667 0 0;0.833333333333333 0 0;0.875 0 0;0.916666666666667 0 0;0.958333333333333 0 0;1 0 0;1 0.041666666666667 0;1 0.083333333333333 0;1 0.125 0;1 0.166666666666667 0;1 0.208333333333333 0;1 0.25 0;1 0.291666666666667 0;1 0.333333333333333 0;1 0.375 0;1 0.416666666666667 0;1 0.458333333333333 0;1 0.5 0;1 0.541666666666667 0;1 0.583333333333333 0;1 0.625 0;1 0.666666666666667 0;1 0.708333333333333 0;1 0.75 0;1 0.791666666666667 0;1 0.833333333333333 0;1 0.875 0;1 0.916666666666667 0;1 0.958333333333333 0;1 1 0;1 1 0.0625;1 1 0.125;1 1 0.1875;1 1 0.25;1 1 0.3125;1 1 0.375;1 1 0.4375;1 1 0.5;1 1 0.5625;1 1 0.625;1 1 0.6875;1 1 0.75;1 1 0.8125;1 1 0.875;1 1 0.9375;1 1 1];
figure1 = figure('WindowState','maximized',...
    'Colormap',mymap);
%colormap(mymap(180));
% Create axes
axes1 = axes('Parent',figure1,...
    'Position',[0.125620141369048 0.11 0.475421525297619 0.815]);
hold(axes1,'on');

% Create image
image([1 700],[700;1],memory_frequency,'Parent',axes1,'CDataMapping','scaled');

% Create ylabel
ylabel({'Memory Sequence Number'},'FontWeight','bold');

% Create xlabel
xlabel({'Time Step'},'FontWeight','bold');

% Uncomment the following line to preserve the X-limits of the axes
% xlim(axes1,[0.5 700.5]);
% Uncomment the following line to preserve the Y-limits of the axes
% ylim(axes1,[0.5 700.5]);
box(axes1,'on');
axis(axes1,'ij');
% Set the remaining axes properties
mymap2 = [0 0 0;0.458333343267441 0 0;0.493951618671417 0 0;0.529569923877716 0 0;0.56518816947937 0 0;0.600806474685669 0 0;0.636424720287323 0 0;0.672043025493622 0 0;0.707661271095276 0 0;0.743279576301575 0 0;0.778897881507874 0 0;0.814516127109528 0 0;0.850134432315826 0 0;0.88575267791748 0 0;0.921370983123779 0 0;0.956989228725433 0 0;0.992607533931732 0 0;1 0.0282258056104183 0;1 0.0642174407839775 0;1 0.100209079682827 0;1 0.136200711131096 0;1 0.172192350029945 0;1 0.208183988928795 0;1 0.244175627827644 0;1 0.280167251825333 0;1 0.316158890724182 0;1 0.352150529623032 0;1 0.388142168521881 0;1 0.424133807420731 0;1 0.46012544631958 0;1 0.49611708521843 0;1 0.532108724117279 0;1 0.568100333213806 0;1 0.604092001914978 0;1 0.640083611011505 0;1 0.676075279712677 0;1 0.712066888809204 0;1 0.748058557510376 0;1 0.784050166606903 0;1 0.820041835308075 0;1 0.856033444404602 0;1 0.892025113105774 0;1 0.928016722202301 0;1 0.964008390903473 0;1 1 0;1 1 0;1 1 0.0556807406246662;1 1 0.111361481249332;1 1 0.167042225599289;1 1 0.222722962498665;1 1 0.278403699398041;1 1 0.334084451198578;1 1 0.389765202999115;1 1 0.44544592499733;1 1 0.501126646995544;1 1 0.556807398796082;1 1 0.612488150596619;1 1 0.668168902397156;1 1 0.723849654197693;1 1 0.77953040599823;1 1 0.835211098194122;1 1 0.890891849994659;1 1 0.946572601795197;0.0588235296308994 1 1];
mymap3 = [0 0 0;];
for i=2:62
    for j=1:3
       mymap3 = [mymap3; mymap2(i,:)+j*(mymap2(i+1,:)-mymap2(i,:))/3;];
    end
end
mymap3 = [mymap3; mymap2(64,:);];

set(axes1,'CLim',[0 160],'Colormap',...
    mymap3,...
    'FontSize',26,'FontWeight','bold','Layer','top','YTick',...
    [1 100 200 300 400 500 600],'YTickLabel',...
    {'700','600','500','400','300','200','100'});
% Create colorbar
colorbar(axes1,'LineWidth',1);

% Create textbox
annotation(figure1,'textbox',...
    [0.527864583333335 0.934208437970868 0.13203125 0.0376695128076343],...
    'String',{'Recall Occurrences'},...
    'LineStyle','none',...
    'FontWeight','bold',...
    'FontSize',24,...
    'FitBoxToText','off');

xlim([0.5; 700.5;]);
ylim([0.5; 700.5;]);

saveas(gcf,strcat(directory,'/occur.tif'));
saveas(gcf,strcat(directory,'/occur.fig'));